<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CalCute â€” ê¸°ë³¸ ì‹ë‹¨</title>
<style>
:root{
  --bg:#f3fff9; --card:#fff; --mint:#9ee6cf; --accent:#2f675e; --muted:#6b8b7a; --shadow:rgba(43,74,63,0.08);
}
*{box-sizing:border-box;}
body{margin:0;font-family:'Nunito',system-ui,-apple-system; background:var(--bg); color:var(--accent); padding:20px;}
.wrap{max-width:800px;margin:auto;background:linear-gradient(180deg,#ffffff,#f7fffb);border-radius:18px;padding:18px;box-shadow:0 12px 30px var(--shadow);position:relative;}
header{display:flex;align-items:center;gap:14px;}
.logo{background:linear-gradient(135deg,var(--mint),var(--mint-2));padding:12px 18px;border-radius:14px;color:#053827;font-weight:800;font-size:20px;box-shadow:0 6px 18px rgba(47,103,94,0.12);}
h1{margin:0;font-size:20px;}
p.lead{margin:2px 0 0;color:var(--muted);}
.day-plan{margin-top:18px;background:#fff;padding:14px;border-radius:12px;box-shadow:0 8px 20px rgba(15,30,25,0.04);}
.meal-list{margin-top:6px;}
.meal-item{display:flex;align-items:center;gap:6px;padding:4px;border:1px dashed #e6f6ef;border-radius:8px;margin-top:4px;}
.meal-item .name{flex:1;}
.summary{margin-top:10px;font-weight:700;}
input[type=number]{padding:4px;border-radius:6px;border:1px solid #e6f6ef;width:60px;}
.cat{position:absolute;right:18px;bottom:18px;width:110px;height:110px;background:url('https://cdn-icons-png.flaticon.com/512/616/616408.png') no-repeat center/contain;opacity:0.95;}
</style>
</head>
<body>
<div class="wrap">
<header>
  <div class="logo">CalCute</div>
  <div>
    <h1>ê¸°ë³¸ ì‹ë‹¨</h1>
    <p class="lead">ì•„ì¹¨Â·ì ì‹¬Â·ì €ë… ë©”ë‰´ í•œ ê°œì”© êµ¬ì„± ğŸ±ğŸ’š</p>
  </div>
</header>

<div id="weekPlan"></div>
<div class="summary" id="dailySummary">ì´ ì¹¼ë¡œë¦¬: 0 kcal</div>
<div class="cat"></div>
</div>

<script>
// ê¸°ë³¸ ìŒì‹ DB (100gë‹¹ ì¹¼ë¡œë¦¬)
let FOOD_DB = [
  {name:'ë°”ë‚˜ë‚˜', kcal:89},
  {name:'ë°¥ê³¼ ë‹­ê°€ìŠ´ì‚´', kcal:295}, // ë°¥ 150g + ë‹­ê°€ìŠ´ì‚´ 100g í•©ì‚°
  {name:'ê¹€ë°¥', kcal:300}
];

// í•˜ë£¨ ì‹ë‹¨ (ì•„ì¹¨/ì ì‹¬/ì €ë… ê°ê° ë©”ë‰´ í•œ ê°œ)
let dayPlan = {
  ì•„ì¹¨:[{...FOOD_DB[0], qty:100}],
  ì ì‹¬:[{...FOOD_DB[1], qty:100}],
  ì €ë…:[{...FOOD_DB[2], qty:100}]
};

// ë Œë”ë§
function renderDay(){
  const container = document.getElementById('weekPlan');
  container.innerHTML='';
  for(const meal in dayPlan){
    const mealDiv = document.createElement('div');
    mealDiv.className='day-plan';
    mealDiv.innerHTML=`<b>${meal}</b><div class="meal-list" id="mealList-${meal}"></div>`;
    container.appendChild(mealDiv);
    renderMealList(meal);
  }
  updateSummary();
}

function renderMealList(mealName){
  const listDiv = document.getElementById(`mealList-${mealName}`);
  listDiv.innerHTML='';
  dayPlan[mealName].forEach((m,i)=>{
    const itemDiv = document.createElement('div');
    itemDiv.className='meal-item';
    itemDiv.innerHTML=`
      <span class="name">${m.name}</span>
      <input type="number" data-meal="${mealName}" data-idx="${i}" value="${m.qty}" /> g
      <span>${Math.round(m.kcal*m.qty/100)} kcal</span>
    `;
    listDiv.appendChild(itemDiv);
  });
  listDiv.querySelectorAll('input[type=number]').forEach(inp=>{
    inp.addEventListener('change', e=>{
      const meal = e.target.dataset.meal;
      const idx = e.target.dataset.idx;
      dayPlan[meal][idx].qty = Number(e.target.value)||0;
      renderMealList(meal);
    });
  });
}

// ì´ ì¹¼ë¡œë¦¬ ê³„ì‚°
function updateSummary(){
  let total=0;
  for(const meal in dayPlan){
    dayPlan[meal].forEach(f=>total+=f.kcal*f.qty/100);
  }
  document.getElementById('dailySummary').textContent=`ì´ ì¹¼ë¡œë¦¬: ${Math.round(total)} kcal`;
}

// ì´ˆê¸° ë Œë”
renderDay();
</script>
</body>
</html>
